!function(){function e(e,t,o){function n(){var o=e({authorName:i.author,idea:i.idea}),n=a();n&&t.addNewIdea(o).then(function(){$("#addIdeaModal").modal("hide"),toastr.success("You successfully added new idea to wisdom wall"),l()})}function l(){i.author=null,i.idea=null,s("")}function a(){return null==i.author?(s("Please enter author of the idea"),!1):null==i.idea?(s("Please enter idea"),!1):(s(""),!0)}function s(e){i.errorClass="error-message",i.addIdeaFormErrorMessage=e}var i=this;i.lengthLimit=o.lengthLimit,i.symbolsLeft=o.symbolsLeft,i.addIdeaFormCheck=a,i.showAddIdeaFormErrorMessage=s,i.addIdea=n,i.clearAddIdeaFormValues=l}e.$inject=["$httpParamSerializer","AddNewIdeaService","Utils"],angular.module("myApp.components.addNewIdea",[]).component("kudosAddNewIdea",{templateUrl:"app/components/kudos-add-new-idea/kudos-add-new-idea.html",controller:e,controllerAs:"newIdea"})}(),function(){function e(e,t,o,n){function l(){e.getCompletedChallenges().then(function(e){t.setCompletedChallenges(e),c.completedChallengesCollection=t.getCompletedChallenges(),s(e)}),t.getCurrentUserEmail()?c.userEmail=t.getCurrentUserEmail():o.userHome().then(function(e){t.setCurrentUserEmail(e.email),c.userEmail=t.getCurrentUserEmail()})}function a(e){return t.getCompletedChallenges()[e].creatorStatus?t.getCompletedChallenges()[e].creatorEmail==t.getCurrentUserEmail()?"You won the challenge!":t.getCompletedChallenges()[e].creatorEmail+" won the challenge":t.getCompletedChallenges()[e].creatorStatus?t.getCompletedChallenges()[e].participantStatus?t.getCompletedChallenges()[e].participantEmail==t.getCurrentUserEmail()?"You won the challenge!":t.getCompletedChallenges()[e].participantEmail+" won the challenge":t.getCompletedChallenges()[e].participantStatus?void 0:t.getCompletedChallenges()[e].participantEmail==t.getCurrentUserEmail()?t.getCompletedChallenges()[e].creatorEmail+" won the challenge":"You won the challenge!":t.getCompletedChallenges()[e].creatorEmail==t.getCurrentUserEmail()?t.getCompletedChallenges()[e].participantEmail+" won the challenge":"You won the challenge!"}function s(e){c.showMoreButton=e.length>c.completedChallengesLimit}function i(){c.completedChallengesLimit+=u,s(t.getCompletedChallenges())}function r(){c.completedChallengesLimit=u,s(t.getCompletedChallenges()),c.showLessButton=!1}var c=this,u=5;c.completedChallengesLimit=5,c.completedChallengesCollection=[],c.showList=!1,c.acornPlural=n.acornPlural,c.getWinner=a,c.showMore=i,c.showLess=r,c.showMoreButton=s,c.$onInit=l()}e.$inject=["Challenges","Resources","ProfileService","Utils"],angular.module("myApp.components.completedChallenges",[]).component("kudosChallengeCompleted",{templateUrl:"app/components/kudos-challenge-completed/kudos-challenge-completed.html",controller:e,controllerAs:"chCompleted"})}(),function(){function e(e,t,o,n,l){function a(){s(),o.getCurrentUserEmail()?g.userEmail=o.getCurrentUserEmail():n.userHome().then(function(e){o.setCurrentUserEmail(e.email),g.userEmail=o.getCurrentUserEmail()})}function s(){g.id=!1,t.getNewChallenges().then(function(e){o.setNewChallenges(e),g.challengeList=o.getNewChallenges(),g.showLoaderNew=!1})}function i(n,l,a){var i=o.getUserAvailableKudos();h=e({id:n}),i>=a?t.acceptChallenge(h).then(function(e){toastr.success("You accepted "+e.data.creator+" challenge"),u(l),o.setUserAvailableKudos(o.getUserAvailableKudos()-e.data.amount),o.getOngoingChallenges().push(e.data),s(),g.challengeList=o.getNewChallenges()}):toastr.error("You only have  "+acornPlural(i)+". To accept challenge, you must have at least "+a)}function r(n){var l=e({id:g.challengeList[n].id});t.cancelChallenge(l).then(function(e){o.setUserAvailableKudos(o.getUserAvailableKudos()+e.data.amount),o.getNewChallenges().splice(n,1),o.getCompletedChallenges().unshift(e.data),g.challengeList=o.getNewChallenges(),toastr.success("Challenge canceled")})}function c(o,n){h=e({id:o}),t.declineChallenge(h).then(function(e){toastr.info("You declined "+e.data.creator+" challenge"),u(n),s(),refreshList()})}function u(e){g.challengeList[0]&&g.challengeList.splice(e,1)}function d(e){if(e)return e=e.split(":"),e=e[0]+":"+e[1]}function m(e){return null==o.getNewChallenges()[e].finishDate}var h,g=this;g.showLoaderNew=!0,g.challengeList=[],g.getChallengeParticipatedList=s,g.acceptChallenge=i,g.declineChallenge=c,g.cancelChallenge=r,g.removeElement=u,g.acornPlural=l.acornPlural,g.userEmail=o.getCurrentUserEmail(),g.doesDateExist=m,g.convertDate=d,g.$onInit=a()}e.$inject=["$httpParamSerializer","Challenges","Resources","ProfileService","Utils"],angular.module("myApp.components.challengeNew",[]).component("kudosChallengeNew",{templateUrl:"app/components/kudos-challenge-new/kudos-challenge-new.html",controller:e,controllerAs:"chNew"})}(),function(){function e(e,t,o,n,l){function a(){s(),o.getCurrentUserEmail()?h.userEmail=o.getCurrentUserEmail():n.userHome().then(function(e){o.setCurrentUserEmail(e.email),h.userEmail=o.getCurrentUserEmail()})}function s(){t.getOngoingChallenges().then(function(e){o.setOngoingChallenges(e),h.ongoingChallengeList=o.getOngoingChallenges()})}function i(o){var n=!1;m=e({id:o,status:n}),t.accomplishChallenge(m).then(function(e){toastr.success("You think that you lost challenge. Well... maybe not!")})}function r(o){var n=!0;m=e({id:o,status:n}),t.accomplishChallenge(m).then(function(e){toastr.success("You think that you won challenge. Well... maybe not!")})}function c(e){return h.userEmail=o.getCurrentUserEmail(),e.creatorEmail==h.userEmail?null==e.creatorStatus:e.participantEmail==h.userEmail?null==e.participantStatus:void 0}function u(e){return e.creatorEmail==h.userEmail?0==e.participantStatus?h.selectedMessage=e.participantEmail+" thinks he lost":1==e.participantStatus&&(h.selectedMessage=e.participantEmail+" thinks he won"):e.participantEmail==h.userEmail?0==e.creatorStatus?h.selectedMessage=e.creatorEmail+" thinks he lost":1==e.creatorStatus&&(h.selectedMessage=e.creatorEmail+" thinks he won"):void 0}function d(e){return e=e.split(":"),e=e[0]+":"+e[1]}var m,h=this;h.ongoingChallengeList=[],h.getChallengeOngoingList=s,h.won=r,h.lost=i,h.convertDate=d,h.showButtons=c,h.isSelected=u,h.acornPlural=l.acornPlural,h.convertDate=d,h.$onInit=a()}e.$inject=["$httpParamSerializer","Challenges","Resources","ProfileService","Utils"],angular.module("myApp.components.challengeOngoing",[]).component("kudosChallengeOngoing",{templateUrl:"app/components/kudos-challenge-ongoing/kudos-challenge-ongoing.html",controller:e,controllerAs:"chOngoing"})}(),function(){var e=function(e,t,o){function n(e){o.confirmUser(e).then(function(e){var t=$(".modal.fade.in");"Error"!=e?(toastr.success("Confirmed successfully, you can login now","Success"),t.modal("hide")):toastr.error("Wrong activation code","Error")})}e.confirm=n,e.$on("$locationChangeStart",function(e,t,o){var n=$(".modal.fade.in");1==(n.data("bs.modal")||{}).isShown&&(n.modal("hide"),e.preventDefault())})};e.$inject=["$scope","$location","ConfirmEmailService"],angular.module("myApp.components.confirm-email",[]).component("kudosConfirmEmail",{templateUrl:"app/components/kudos-confirm-email/kudos-confirm-email.html",controller:"ConfirmEmailController"}).controller("ConfirmEmailController",e)}(),function(){function e(e,t,o,n,l){function a(){l.isEmptyCollection(t.getUsersCollection())?o.listUsers().then(function(e){t.setUsersCollection(e),m.usersCollection=t.getUsersCollection()}):m.usersCollection=t.getUsersCollection()}function s(){var a=n("date")(m.giveChallengeExpirationDate,h),s=n("date")(new Date,h);m.userEmail=t.getCurrentUserEmail();var u=e({participant:m.giveChallengeTo,name:m.giveChallengeName,description:m.giveChallengeDescription,finishDate:a,amount:m.giveChallengeAmountOfKudos}),d=i(a,s);d&&o.createChallenge(u).then(function(e){r(),$("#giveChallengeModal").modal("hide"),toastr.success("You successfully challenged "+e.data.participantName+" with "+l.acornPlural(e.data.amount)+"."),t.setUserAvailableKudos(t.getUserAvailableKudos()-e.data.amount),t.getNewChallenges().push(e.data)}).catch(function(){c("Challenge receiver does not exist")})}function i(e,t){return null==m.giveChallengeName?(c("Please enter Challenge name"),!1):null==m.giveChallengeAmountOfKudos?(c("Please enter valid challenge Acorns"),!1):m.giveChallengeAmountOfKudos>m.userAvailableKudos?(c("You don't have enough of Acorns"),!1):null==m.giveChallengeTo?(c("Please enter challenge receiver"),!1):m.giveChallengeTo==m.userEmail?(c("You can't challenge yourself"),!1):e<=t?(c("You can not choose date in the past"),!1):(c(""),m.showError=!1,!0)}function r(){m.giveChallengeTo=null,m.giveChallengeReferee=null,m.giveChallengeName=null,m.giveChallengeDescription=null,m.giveChallengeExpirationDate=null,m.giveChallengeAmountOfKudos=null,m.autocompleteHide=!0,m.showError=!1,m.challengeFormErrorMessage="",m.userAvailableKudos=t.getUserAvailableKudos()}function c(e){m.showError=!0,m.challengeFormErrorMessage=e}function u(e){m.giveChallengeTo=e,m.autocompleteHide=!0,m.text=e}function d(){void 0!=m.giveChallengeTo&&(m.autocompleteHide=m.giveChallengeTo.length<=1)}var m=this,h="yyyy-MM-dd HH:mm:ss,sss";m.userAvailableKudos=0,m.autocompleteHide=!0,m.showError=!1,m.usersCollection=[],m.lengthLimit=l.lengthLimit,m.clearChallengeFormValues=r,m.challengeFormCheck=i,m.giveChallenge=s,m.showChallengeFormErrorMessage=c,m.giveToInputChanged=d,m.selectAutoText=u,m.$onInit=a()}angular.module("myApp.components.giveChallenge",[]).component("kudosGiveChallenge",{templateUrl:"app/components/kudos-give-challenge/kudos-give-challenge.html",controllerAs:"giveChallenge",controller:e}),e.$inject=["$httpParamSerializer","Resources","GiveChallengeService","$filter","Utils"]}(),function(){function e(e,t,o,n,l,a){function s(){d.giveChallengeTo=d.email,d.id=d.index,t.getUsersCollection()?d.usersCollection=t.getUsersCollection():o.listUsers().then(function(e){t.setUsersCollection(e.userList),d.usersCollection=t.getUsersCollection()}),t.getUserAvailableKudos()?d.userAvailableKudos=t.getUserAvailableKudos():l.remainingKudos().then(function(e){t.setUserAvailableKudos(e),d.userAvailableKudos=t.getUserAvailableKudos()})}function i(){var l=n("date")(d.giveChallengeExpirationDate,m),s=n("date")(new Date,m);d.userEmail=t.getCurrentUserEmail();var i=e({participant:d.giveChallengeTo,name:d.giveChallengeName,description:d.giveChallengeDescription,finishDate:l,amount:d.giveChallengeAmountOfKudos}),h=r(l,s);h&&o.createChallenge(i).then(function(e){c(),$("#giveChallengeModal").modal("hide"),toastr.success("You successfully challenged "+e.data.participantName+" with "+a.acornPlural(e.data.amount)+"."),$("#modal"+d.id+"challenge").modal("hide"),t.setUserAvailableKudos(t.getUserAvailableKudos()-e.data.amount),d.userAvailableKudos=t.getUserAvailableKudos(),t.getNewChallenges().unshift(e.data)}).catch(function(){u("Challenge receiver does not exist")})}function r(e,t){return null==d.giveChallengeName?(u("Please enter Challenge name"),!1):null==d.giveChallengeAmountOfKudos?(u("Please enter valid challenge Acorns"),!1):d.giveChallengeAmountOfKudos>d.userAvailableKudos?(u("You don't have enough of Acorns"),!1):null==d.giveChallengeTo?(u("Please enter challenge receiver"),!1):d.giveChallengeTo==d.userEmail?(u("You can't challenge yourself"),!1):e<=t?(u("You can not choose date in the past"),!1):(u(""),d.showError=!1,!0)}function c(){d.giveChallengeReferee=null,d.giveChallengeName=null,d.giveChallengeDescription=null,d.giveChallengeExpirationDate=null,d.giveChallengeAmountOfKudos=null,d.autocompleteHide=!0,d.showError=!1,d.challengeFormErrorMessage=""}function u(e){d.showError=!0,d.challengeFormErrorMessage=e}var d=this,m="yyyy-MM-dd HH:mm:ss,sss";d.userAvailableKudos=0,d.autocompleteHide=!0,d.showError=!1,d.usersCollection=[],d.clearChallengeFormValues=c,d.challengeFormCheck=r,d.giveChallenge=i,d.showChallengeFormErrorMessage=u,d.$onInit=s()}e.$inject=["$httpParamSerializer","Resources","GiveChallengeService","$filter","ProfileService","Utils"],angular.module("myApp.components.giveChallengeSmall",[]).component("kudosGiveChallengeSmall",{templateUrl:"app/components/kudos-give-challenge-small/kudos-give-challenge-small.html",bindings:{email:"<",index:"<"},controller:e,controllerAs:"chSmall"})}(),function(){function e(e,t){function o(){var e=t.getCurrentUser();e&&!n&&(n=!0,l.isCompleted=e.completed)}var n,l=this;e.$watch(function(){o()})}e.$inject=["$scope","Resources"],angular.module("myApp.components.info",[]).component("kudosInfo",{templateUrl:"app/components/kudos-infobar/kudos-infobar.html",controller:e,controllerAs:"info"})}(),function(){function e(e,t,o,n,l){function a(){void 0!=v.email&&void 0!=v.index&&(v.sendKudosTo=v.email,v.id=v.index),void 0==o.getUserAvailableKudos()?n.remaining().then(function(e){o.setUserAvailableKudos(e),v.userAvailableKudos=e}):v.userAvailableKudos=o.getUserAvailableKudos(),l.isEmptyCollection(o.getUsersCollection())?t.listUsers().then(function(e){o.setUsersCollection(e),v.usersCollection=o.getUsersCollection()}):v.usersCollection=o.getUsersCollection()}function s(){0==v.searchTermSelected?void 0!=v.sendKudosTo&&(v.sendKudosTo.length>1?v.autocompleteHide=!1:v.autocompleteHide=!0):v.searchTermSelected=!1}function i(e){v.sendKudosTo=e,v.searchTermSelected=!0,v.autocompleteHide=!0,v.text=e}function r(){u()&&t.sendKudos(g()).then(function(e){v.showSendKudosModal=!1,v.showSuccess=!0,o.setUserAvailableKudos(o.getUserAvailableKudos()-e.data.amount),p(),toastr.success("You successfully sent "+l.acornPlural(e.data.amount)+" to "+e.data.receiverFullName),c(e.data),h(),a()}).catch(function(){d("Receiver doesn't exist")})}function c(e){var t={receiver:e.receiver,message:e.message,amount:e.amount,timestamp:l.trimDate(e.timestamp)};o.getOutgoingKudosCollection().push(t),o.setSentKudosTable()}function u(){if(m(),null==v.sendKudosTo)d("Please enter receiver");else if(l.validateEmail(v.sendKudosTo))if(v.sendKudosTo===o.getCurrentUserEmail())d("Can't send kudos to yourself");else if(v.sendKudosAmount>o.getUserAvailableKudos())d("You don't have enough Acorns");else if(null==v.sendKudosAmount)d("Please enter amount");else{if(!(v.sendKudosAmount<=0))return m(),!0;d("Please enter more than zero")}else d("Please enter valid receiver email");return!1}function d(e){v.showError=!0,v.errorMessage=e}function m(){v.showError=!1,v.errorMessage=""}function h(){v.sendKudosTo="",v.sendKudosAmount=null,v.autocompleteHide=!0,v.sendKudosMessage="",m()}function g(){return e({receiverEmail:v.sendKudosTo,amount:v.sendKudosAmount,message:v.sendKudosMessage})}function p(){void 0!=v.template?$("#modal"+v.id).modal("hide"):$("#sendKudosModal").modal("hide")}function f(e){return"button"==e?"app/components/kudos-give-kudos/kudos-give-kudos-small.html":"app/components/kudos-give-kudos/kudos-give-kudos.html"}var v=this;v.showError=!1,v.errorMessage="",v.userAvailableKudos=0,v.usersCollection=[],v.maxSendKudosLength=o.getUserAvailableKudos(),v.autocompleteHide=!0,v.sendKudos=r,v.clearSendKudosFormValues=h,v.sendToInputChanged=s,v.selectAutoText=i,v.getTemplate=f,v.sendKudosValidation=u,v.showValidationErrorMessage=d,v.$onInit=a()}angular.module("myApp.components.giveKudos",[]).component("kudosGiveKudos",{template:'<ng-include src="vm.getTemplate(vm.template)"/>',bindings:{email:"<",index:"<",template:"="},controller:e,controllerAs:"vm"}),e.$inject=["$httpParamSerializer","GiveKudosService","Resources","Kudos","Utils"]}(),function(){function e(e,t,o){function n(e){"all"==e?(i.criterion="All over period",l("all"),a("all")):"7"==e?(i.criterion="Past 7 days",l("week"),a("week")):"30"==e&&(l("month"),a("month"),i.criterion="Past 30 days")}function l(o){e.getTopReceivers(s(o)).then(function(e){t.setTopReceivers(e)})}function a(o){e.getTopSenders(s(o)).then(function(e){t.setTopSenders(e)})}function s(e){return o({period:e})}var i=this;i.criterion="All over period",i.setFilter=n}e.$inject=["ProfileService","Resources","$httpParamSerializer"],angular.module("myApp.components.leaderboardFilter",[]).component("kudosLeaderboardFilter",{templateUrl:"app/components/kudos-leaderboard-filter/kudos-leaderboard-filter.view.html",controller:e,controllerAs:"filter"})}(),function(){function e(e,t,o,n,l,a,s,i,r){function c(){u(),a.followers().then(function(e){b.followersCount=e.data.length}),a.following().then(function(e){b.followingCount=e.data.length,b.showLoader=!1})}function u(){i.checkUser().then(function(e){e.logged?o.location.href="#/me":o.location.href="#/login"})}function d(){b.showLoader=!0,A=t("date")(b.birthdayEdit,K),k=t("date")(b.startedToWorkEdit,K),b.birthdayView=t("date")(b.birthdayEdit,K),b.startedToWorkView=t("date")(b.startedToWorkEdit,K),"Invalid Date"==A&&(A=null,b.birthdayView=null),"Invalid Date"==k&&(k=null,b.startedToWorkView=null),y=l({email:b.email,firstName:b.firstNameEdit,lastName:b.lastNameEdit,birthday:A,startedToWorkDate:k}),m()?(b.meErrorMessage=m(),b.startFade=!1,n(function(){b.startFade=!0,n(function(){b.meErrorMessage="",b.startFade=!1},1e3)},L),b.showLoader=!1):a.edit(y).then(function(e){b.editMode=!1,toastr.success("You have successfully edited your profile"),p(e),E=s.getCurrentUser(),C(A,k,E),b.showLoader=!1})}function m(){return b.firstNameEdit?h(b.firstNameEdit)?"In first name field only letters are allowed":b.lastNameEdit?h(b.lastNameEdit)?"In last name field only letters are allowed":A&&A>S?"Your birthday cannot be in the future...":!!(k&&k>S)&&"You are already working here. Please change your started to work date":"Last name can't be empty":"First name can't be empty"}function h(e){var t=/[^ąčęėįšųūžĄČĘĖĮŠŲŪŽåäöÅÄÖĀĒĢĪĶĻŅēīāņļķģüÜÕõa-z A-Z]/;return!!t.test(e)}function g(){E=s.getCurrentUser(),E&&!U&&(U=!0,f(E),p(E),b.email=E.email)}function p(e){b.firstName=e.firstName,b.lastName=e.lastName,b.birthday=e.birthday,b.startedToWork=e.startedToWorkDate}function f(e){b.firstNameEdit=e.firstName,b.lastNameEdit=e.lastName,b.birthdayEdit=new Date(w(e.birthday)),b.startedToWorkEdit=new Date(w(e.startedToWorkDate))}function v(){b.firstNameEdit=b.firstName,b.lastNameEdit=b.lastName,b.birthdayEdit=new Date(w(b.birthday)),b.startedToWorkEdit=new Date(w(b.startedToWork))}function C(e,t,o){e&&t&&(o.completed=!0,s.setCurrentUser(E))}function w(e){if(e)return e=e.split(" "),e[0]}var E,y,U,A,k,b=this,K="yyyy-MM-dd HH:mm:ss,sss",S=t("date")(new Date,K),L=4500;c(),b.followersCount=0,b.followingCount=0,b.isMeActive=!0,b.isFriendsActive=!1,b.showLoader=!0,b.lengthLimit=r.lengthLimit,b.symbolsLeft=r.symbolsLeft,b.edit=d,b.splitDate=w,b.checkIsCompleted=C,b.editAsView=v,b.checkInputs=m,b.checkPattern=h,b.setValuesView=p,b.setValuesEdit=f,e.$watch(function(){g()})}e.$inject=["$scope","$filter","$window","$timeout","$httpParamSerializer","MeService","Resources","ProfileService","Utils"],angular.module("myApp.components.me",[]).component("kudosMe",{templateUrl:"app/components/kudos-me/me.html"}).controller("MeController",e)}(),function(){function e(e,t,o,n,l,a){function s(){"/profile"==t.path()?c.selectedHome=!0:"/acorns"==t.path()?c.selectedAcorns=!0:"/following"==t.path()&&(c.selectedFollowing=!0),void 0==c.user?a.userHome().then(function(e){l.setCurrentUser(e),c.user=l.getCurrentUser()}):c.user=l.getCurrentUser()}function i(){r(),l.setCurrentUser(null),l.setCurrentUserEmail(null),a.logout().catch(function(){o.location.href="#/login"})}function r(){n.put("remember_user","false"),n.put("user_credentials","")}var c=this;c.selectedHome=!1,c.selectedAcorns=!1,c.selectedFollowing=!1,c.selectedChallenges=!1,c.logout=i,c.activate=s,s(),e.$on("$locationChangeStart",function(e,t,o){var n=$(".modal.fade.in");1==(n.data("bs.modal")||{}).isShown&&(n.modal("hide"),e.preventDefault())})}e.$inject=["$scope","$location","$window","$cookies","Resources","ProfileService"],angular.module("myApp.components.navbar",[]).component("kudosNavbar",{templateUrl:"app/components/kudos-navbar/kudos-navbar.html",controller:e,controllerAs:"nav"})}(),function(){function e(e,t,o,n){function l(){o.listUsers().then(function(e){g.usersCollection=e}),t.getFollowing().then(function(){g.followedCollection=t.getFollowingCollection()}),t.getFollowers().then(function(){g.followersCollection=t.getFollowers()})}function a(e){g.followerEmail=e,g.autocompleteHide=!0,g.text=e}function s(){void 0!=g.followerEmail&&(g.followerEmail.length>1?g.autocompleteHide=!1:g.autocompleteHide=!0)}function i(e){e=1!=e,$(document).on("hide.bs.modal","#sendKudosModalSmall",function(){e=1!=e})}function r(e){e&&(e==n.getCurrentUser().email?(toastr.error("You can't follow yourself"),g.followerEmail=""):t.addFollower(m(e)).then(function(e){u(e.data),g.followerEmail="",toastr.success("Started to follow "+e.data.userName,"Following")}))}function c(e,o,n){t.removeFollowing(m(e)).then(function(){d(n),toastr.success("Unfollowed "+o)})}function u(e){g.followedCollection.push(e)}function d(e){g.followedCollection.splice(e,1)}function m(t){return e({email:t})}function h(e){g.selectedEmail=e}var g=this;g.followedCollection=[],g.followersCollection=[],g.selectedEmail="",g.acornsAmount=1,g.showGiveBox=!1,g.addFollower=r,g.removeFollowing=c,g.addFollowingToCollection=u,g.removeFollowingFromCollection=d,g.transferDataToParam=m,g.selectRelationEmail=h,g.onModalHideEvent=i,g.selectAutoText=a,g.onInputChange=s,g.$onInit=l()}e.$inject=["$httpParamSerializer","RelationService","GiveKudosService","Resources"],angular.module("myApp.components.relationship",[]).component("kudosRelationship",{templateUrl:"app/components/kudos-relationship/kudos-relationship.html",controller:e,controllerAs:"relation"})}(),function(){function e(e,t,o){function n(){l("all")}function l(n){var l=t({period:n});e.getTopReceivers(l).then(function(e){o.setTopReceivers(e),a.topReceivers=o.getTopReceivers(),a.showLoader=!1})}var a=this;a.showLoader=!0,a.userReceivedKudos=0,a.topReceivers=[],a.setTopReceivers=l,n()}e.$inject=["ProfileService","$httpParamSerializer","Resources"],angular.module("myApp.components.topReceivers",[]).component("kudosTopReceivers",{templateUrl:"app/components/kudos-top-receivers/kudos-top-receivers.html",controller:e,controllerAs:"receiver"})}(),function(){function e(e,t,o){function n(){l("all")}function l(n){var l=t({period:n});e.getTopSenders(l).then(function(e){o.setTopSenders(e),a.topSenders=o.getTopSenders()})}var a=this;a.topSenders=[],a.setTopSenders=l,n()}e.$inject=["ProfileService","$httpParamSerializer","Resources"],angular.module("myApp.components.topSenders",[]).component("kudosTopSenders",{templateUrl:"app/components/kudos-top-senders/kudos-top-senders.html",controller:e,controllerAs:"sender"})}(),function(){function e(e,t,o){function n(t,o){h(),g.showHistoryLoader=!0,g.thisUsersEmail=t;var n={email:g.thisUsersEmail,start:g.transactionStartingIndex,end:g.transactionEndingIndex};e.getAll(n,o)?(g.transactionHistory=e.getAll(n,o),i(g.transactionHistory),g.showHistoryLoader=!1):e.getAllTransactions(n).then(function(t){g.transactionHistory=t,e.setAll(g.thisUsersEmail,g.transactionHistory),i(g.transactionHistory),g.showHistoryLoader=!1})}function l(t,o){h(),g.showHistoryLoader=!0,g.thisUsersEmail=t;var n={email:g.thisUsersEmail,start:g.transactionStartingIndex,end:g.transactionEndingIndex};e.getReceived(n,o)?(g.transactionHistory=e.getReceived(n,o),i(g.transactionHistory),g.showHistoryLoader=!1):e.getReceivedTransactions(n).then(function(t){g.transactionHistory=t,e.setReceived(g.thisUsersEmail,t),i(g.transactionHistory),g.showHistoryLoader=!1})}function a(t,o){h(),g.showHistoryLoader=!0,g.thisUsersEmail=t;var n={email:g.thisUsersEmail,start:g.transactionStartingIndex,end:g.transactionEndingIndex};e.getGave(n,o)?(g.transactionHistory=e.getGave(n,o),i(g.transactionHistory),g.showHistoryLoader=!1):e.getGaveTransactions(n).then(function(t){g.transactionHistory=t,e.setGave(g.thisUsersEmail,t),i(g.transactionHistory),g.showHistoryLoader=!1})}function s(t,o){h(),g.showHistoryLoader=!0,g.thisUsersEmail=t;var n={email:g.thisUsersEmail,start:g.transactionStartingIndex,end:g.transactionEndingIndex};e.getChallenges(n,o)?(g.transactionHistory=e.getChallenges(n,o),i(g.transactionHistory),g.showHistoryLoader=!1):e.getChallengesTransactions(n).then(function(t){g.transactionHistory=t,e.setChallenges(g.thisUsersEmail,t),i(g.transactionHistory),g.showHistoryLoader=!1})}function i(e){e[g.transactionEndingIndex-1]?g.showMoreButton=!0:g.showMoreButton=!1}function r(e){"more"==e&&(g.transactionEndingIndex+=10,g.showLessButton=!0,g.allOperations?n(g.thisUsersEmail,!1):g.receivedOperations?l(g.thisUsersEmail,!1):g.gaveOperations?a(g.thisUsersEmail,!1):g.challengeOperations&&s(g.thisUsersEmail,!1)),"less"==e&&(g.transactionEndingIndex=6,g.showMoreButton=!0,g.showLessButton=!1)}function c(e,t){g.transactionEndingIndex=6,g.allOperations?n(e,t):g.receivedOperations?l(e,t):g.gaveOperations?a(e,t):g.challengeOperations&&s(e,t)}function u(e){g.historyRadioBox!=e&&(g.historyRadioBox=e)}function d(e){switch(g.receivedOperations=!1,g.allOperations=!1,g.gaveOperations=!1,g.challengeOperations=!1,e){case"all":g.allOperations=!0;break;case"received":g.receivedOperations=!0;break;case"gave":g.gaveOperations=!0;break;case"challenges":g.challengeOperations=!0}g.showLessButton=!1,g.transactionEndingIndex=6,g.historyRadioBox="wonLost"}function m(e){return 1==g.page?"app/components/kudos-user-history/kudos-user-history-page.html":"app/components/kudos-user-history/kudos-user-history.html"}function h(){t(function(){g.spin=!1},1e3)}var g=this;g.showHistoryLoader=!0,g.historyRadioBox="wonLost",g.receivedOperations=!1,g.allOperations=!0,g.gaveOperations=!1,g.challengeOperations=!1,g.transactionEndingIndex=6,g.transactionStartingIndex=0,g.showMoreButton=!1,g.showLessButton=!1,g.split=o.split,g.acornPlural=o.acornPlural,g.changeRadioValue=u,g.changeView=d,g.checkButtons=i,g.showMoreLess=r,g.updateListAll=n,g.updateListReceived=l,g.updateListGave=a,g.updateListChallenges=s,g.showList=c,g.getTemplate=m,g.$onInit=function(){g.currentUser=g.user,1==g.page&&n(g.currentUser.email,!0),g.modalIndex=g.split(g.user.$$hashKey,":")[1]}}e.$inject=["UserHistoryService","$timeout","Utils"],angular.module("myApp.components.userHistory",[]).component("kudosUserHistory",{template:'<ng-include src="history.getTemplate()"/>',bindings:{user:"=",page:"<"},controller:e,controllerAs:"history"})}(),function(){function e(e){var t=this;t.showLoader=!0,e.getRandomIdea().then(function(e){t.randomQuote=e,t.showLoader=!1})}e.$inject=["WisdomWallIdeasService"],angular.module("myApp.components.wisdomWallIdeas",[]).component("wisdomWallIdeas",{templateUrl:"app/components/kudos-wisdom-wall-ideas/kudos-wisdom-wall-ideas.html",controller:e,controllerAs:"wisdom"})}();