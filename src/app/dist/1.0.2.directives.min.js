!function(){function n(n,t,o,a,e){function i(){s(),c()}function c(){a.poll().then(function(n){n===!0&&l()});t(d.startPooling,5e3)}function s(){a.getCompletedKudosTransactions(T).then(function(n){d.transactionCollection=n})}function r(){a.getCompletedKudosTransactions().then(function(n){d.transactionCollection=d.transactionCollection.concat(n)})}function l(){a.getCompletedKudosTransactions(T).then(function(n){n.forEach(function(n){1!=f(d.transactionCollection,n)&&(d.transactionCollection.unshift(n),d.transactionCollection.pop())})})}function u(){h++,T=o({page:h,pageSize:C}),r()}function p(){h=0,T=o({page:h,pageSize:C}),s()}function f(n,t){for(var o=0,a=n.length;o<a;o++)if(m(n[o],t))return!0;return o}function m(n,t){return n.timestamp===t.timestamp&&n.senderEmail===t.senderEmail}var d=this,g="COMPLETED",h=0,C=10,T=o({status:g,page:h,pageSize:C});d.transactionCollection=[],d.activate=i(),d.showMoreTransactions=u,d.showLessTransactions=p,d.acornPlural=e.acornPlural,d.getKudosTransactionsFeed=s,d.changeTransactionsList=l,d.startPooling=c,n.$on("$destroy",function(n){t.cancel(pooling)})}n.$inject=["$scope","$timeout","$httpParamSerializer","KudosTransactionService","Utils"],angular.module("myApp.components.transactions",[]).directive("kudosTransactionsStream",function(){return{controller:n,controllerAs:"transaction",templateUrl:"app/components/kudos-transactions-stream/kudos-transactions-stream.html"}})}();